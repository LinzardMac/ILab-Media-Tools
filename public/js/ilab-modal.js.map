{"version":3,"sources":["ilab-modal-tabs.js","ilab-modal.js"],"names":["$","fn","ilabTabs","options","settings","extend","sizeCanvas","this","each","tabFont","tabMarginLeft","tabMarginRight","tabPaddingLeft","container","label","find","select","tabs","minWidth","tabPaddingRight","getTextWidth","text","font","canvas","document","createElement","context","getContext","metrics","measureText","width","tab","css","parseInt","tabWidth","console","log","hasOwnProperty","removeClass","on","e","preventDefault","addClass","val","data","currentValue","tabSelected","option","checkOverflow","show","hide","window","jQuery","ILabModal","_dirty","cancel","remove","makeDirty","isDirty","makeClean","loadURL","url","partial","partialCallback","confirm","get","append","ready","currEl","hasClass","attr"],"mappings":"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","file":"ilab-modal.js","sourcesContent":["(function($){\n\n    $.fn.ilabTabs=function(options){\n        var settings= $.extend({},options);\n        var sizeCanvas=null;\n\n        return this.each(function(){\n            var container=$(this);\n            var label=container.find('.ilabm-tabs-select-label');\n            var select=container.find('.ilabm-tabs-select');\n            var tabs=container.find('.ilabm-editor-tab');\n\n            var minWidth=0;\n            var tabFont,tabMarginLeft,tabMarginRight,tabPaddingLeft,tabPaddingRight=null;\n\n            var getTextWidth=function(text, font) {\n                // re-use canvas object for better performance\n\n                var canvas = sizeCanvas || (sizeCanvas = document.createElement(\"canvas\"));\n                var context = canvas.getContext(\"2d\");\n                context.font = font;\n                var metrics = context.measureText(text);\n                return metrics.width;\n            };\n\n            tabs.each(function(){\n                var tab=$(this);\n                if (tabFont===null) {\n\n                    tabFont = tab.css('font');\n                    tabMarginLeft=parseInt(tab.css('margin-left'));\n                    tabMarginRight=parseInt(tab.css('margin-right'));\n                    tabPaddingLeft=parseInt(tab.css('padding-left'));\n                    tabPaddingRight=parseInt(tab.css('padding-right'));\n                }\n\n                tabWidth=getTextWidth(tab.text(),tabFont)+tabMarginLeft+tabMarginRight+tabPaddingLeft+tabPaddingRight+15;\n                minWidth+=tabWidth;\n            });\n\n            console.log('min-width',minWidth);\n\n            if (label && settings.hasOwnProperty('label'))\n                label.text(settings.label);\n\n            tabs.removeClass('active-tab');\n            tabs.on('click',function(e){\n                e.preventDefault();\n\n                tabs.removeClass('active-tab');\n                var tab=$(this);\n                tab.addClass('active-tab');\n\n                if (select)\n                    select.val(tab.data('value'));\n\n                settings.currentValue=tab.data('value');\n\n                if (settings.hasOwnProperty('tabSelected'))\n                    settings.tabSelected(tab);\n\n                return false;\n            });\n\n            if (select)\n            {\n                select.on('change',function(){\n                    tabs.removeClass('active-tab');\n                    tabs.each(function(){\n                        var tab=$(this);\n                        if (tab.data('value')==select.val())\n                            tab.addClass('active-tab');\n                    });\n                    var option=select.find(\":selected\");\n                    if (settings.hasOwnProperty('tabSelected'))\n                        settings.tabSelected(option);\n                });\n            }\n\n            if (settings.hasOwnProperty('currentValue'))\n            {\n                if (select)\n                    select.val(settings.currentValue);\n\n                tabs.each(function(){\n                   var tab=$(this);\n                    if (tab.data('value')==settings.currentValue)\n                        tab.addClass('active-tab');\n                });\n            }\n\n            var checkOverflow=function(){\n                console.log('overflow');\n                if (minWidth > container.width()) {\n                    label.show();\n                    select.show();\n                    tabs.hide();\n                }\n                else {\n                    label.hide();\n                    select.hide();\n                    tabs.show();\n                }\n            };\n\n            $(window).on('resize',checkOverflow);\n            checkOverflow();\n        });\n    };\n\n}(jQuery));\n","/**\n * Created by jong on 8/1/15.\n */\n\nvar ILabModal=(function(){\n    var _dirty=false;\n    var _data={};\n\n    var cancel=function(){\n        jQuery('.ilabm-backdrop').remove();\n    };\n\n    var makeDirty=function(){\n        _dirty=true;\n    };\n\n    var isDirty=function(){\n        return _dirty;\n    };\n\n    var makeClean=function(){\n        _dirty=false;\n    };\n\n    var loadURL=function(url,partial,partialCallback){\n        if (_dirty)\n        {\n            if (!confirm('You\\'ve made changes, continuing will lose them.\\n\\nContinue?'))\n                return false;\n        }\n\n        _dirty=false;\n\n        jQuery.get(url, function(data) {\n            if (partial) {\n                partialCallback(data);\n                //jQuery('#ilabm-container').remove();\n                //jQuery('body').append(data);\n                //jQuery('#ilabm-window-area').unbind().html('').append(data);\n            } else {\n                jQuery('body').append(data);\n            }\n        });\n    };\n\n    return {\n        cancel: cancel,\n        makeDirty:makeDirty,\n        isDirty:isDirty,\n        makeClean:makeClean,\n        loadURL:loadURL\n    };\n})();\n\njQuery(document).ready(function($){\n    $(document).on('click', 'a.ilab-thickbox', function(e) {\n        e.preventDefault();\n        var currEl = $(this);\n        var partial=currEl.hasClass('ilab-thickbox-partial');\n\n        ILabModal.loadURL(currEl.attr('href'),partial,null);\n\n        return false;\n    });\n});"],"sourceRoot":"js/"}